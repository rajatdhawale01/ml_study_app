{% extends "layout.html" %}
{% block content %}
<!-- Hero -->
<section
  class="relative overflow-hidden rounded-2xl mb-6 border"
  style="background: radial-gradient(1200px 400px at 20% -10%, rgba(79,70,229,0.15), transparent),
                 radial-gradient(900px 300px at 90% 0%, rgba(236,72,153,0.12), transparent);">
  <div class="relative z-10 px-5 py-8 sm:px-8">
    <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4">
      <div>
        <h1 class="text-3xl font-bold tracking-tight">Machine Learning — Introduction</h1>
        <p class="text-gray-600 mt-1 dark:text-gray-300">
          A quick, practical overview: what ML is, when to use it, core types, metrics, and essential concepts.
        </p>
      </div>
      <div class="flex items-center gap-2">
        <!-- Theme toggle (persists like on Home) -->
        <button id="themeToggle"
          class="rounded-full border px-3 py-1.5 text-sm hover:shadow transition bg-white/70 backdrop-blur dark:bg-gray-900">
          <span class="inline dark:hidden">🌙 Dark</span>
          <span class="hidden dark:inline">☀️ Light</span>
        </button>
      </div>
    </div>

    <!-- Search -->
    <div class="mt-5">
      <div class="relative max-w-xl">
        <input id="searchInput" placeholder="Search intro… (e.g., metrics, leakage, features)"
               class="w-full rounded-xl border px-4 py-2.5 pr-10 outline-none focus:ring-2 focus:ring-indigo-400
                      bg-white/80 backdrop-blur dark:bg-gray-900 dark:border-gray-700 dark:placeholder-gray-400" />
        <div class="pointer-events-none absolute inset-y-0 right-3 flex items-center text-gray-400">⌘K</div>
      </div>
      <p class="text-xs text-gray-500 mt-2">
        Tips: Press <span class="font-medium">⌘/Ctrl + K</span> to focus search • Hover cards for a subtle tilt
      </p>
    </div>
  </div>

  <!-- Decorative blur orbs -->
  <div class="absolute -top-16 -left-10 h-40 w-40 rounded-full blur-3xl opacity-50"
       style="background: linear-gradient(120deg, rgba(99,102,241,0.35), rgba(236,72,153,0.35));"></div>
  <div class="absolute -bottom-16 -right-10 h-48 w-48 rounded-full blur-3xl opacity-40"
       style="background: linear-gradient(120deg, rgba(16,185,129,0.35), rgba(59,130,246,0.35));"></div>
</section>

<!-- Cards content -->
<div id="cardsGrid" class="grid grid-cols-1 md:grid-cols-2 gap-4">
  <!-- What is ML -->
  <div class="card rounded-2xl border bg-white p-4 shadow-sm dark:bg-gray-900 dark:border-gray-700"
       data-title="what is machine learning definition prediction classification regression ranking generation">
    <h2 class="text-lg font-semibold flex items-center gap-2">📘 What is ML?</h2>
    <p class="text-gray-700 dark:text-gray-300 mt-1">
      ML learns patterns from data to make predictions/decisions without hand-crafted rules.
      Outcomes include <span class="font-medium">classification</span>, <span class="font-medium">regression</span>,
      <span class="font-medium">ranking</span>, <span class="font-medium">clustering</span>, and <span class="font-medium">generation</span>.
    </p>
  </div>

  <!-- Why & When -->
  <div class="card rounded-2xl border bg-white p-4 shadow-sm dark:bg-gray-900 dark:border-gray-700"
       data-title="why when use ml complex patterns measurable goals ab tests">
    <h2 class="text-lg font-semibold flex items-center gap-2">🎯 Why &amp; When to Use ML</h2>
    <ul class="list-disc pl-6 text-gray-700 dark:text-gray-300 space-y-1 mt-1">
      <li>Patterns are too complex for rules (fraud, image/text, recommendations).</li>
      <li>You have representative historical data and a measurable objective.</li>
      <li>You can evaluate impact with the right metrics and A/B tests.</li>
    </ul>
  </div>

  <!-- Types -->
  <div class="card rounded-2xl border bg-white p-4 shadow-sm dark:bg-gray-900 dark:border-gray-700"
       data-title="types supervised unsupervised reinforcement learning">
    <h2 class="text-lg font-semibold flex items-center gap-2">🧩 Core Types</h2>
    <ul class="list-disc pl-6 text-gray-700 dark:text-gray-300 space-y-1 mt-1">
      <li><span class="font-medium">Supervised</span> — learn from labeled pairs \((x,y)\).</li>
      <li><span class="font-medium">Unsupervised</span> — discover structure without labels.</li>
      <li><span class="font-medium">Reinforcement Learning</span> — learn via reward signals.</li>
    </ul>
  </div>

  <!-- Process -->
  <div class="card rounded-2xl border bg-white p-4 shadow-sm dark:bg-gray-900 dark:border-gray-700"
       data-title="process pipeline steps problem framing data features cv evaluate deploy monitor">
    <h2 class="text-lg font-semibold flex items-center gap-2">🛠️ Practical Process (high level)</h2>
    <ol class="list-decimal pl-6 text-gray-700 dark:text-gray-300 space-y-1 mt-1">
      <li>Problem framing & success metrics</li>
      <li>Data → clean, explore, avoid leakage</li>
      <li>Features → encode/scale/create domain features</li>
      <li>Validation → CV split mirroring deployment</li>
      <li>Train baseline → iterate → evaluate → tune</li>
      <li>Deploy → monitor drift/performance → retrain</li>
    </ol>
  </div>

  <!-- Data splitting & leakage -->
  <div class="card rounded-2xl border bg-white p-4 shadow-sm dark:bg-gray-900 dark:border-gray-700"
       data-title="data splitting leakage train validation test time series">
    <h2 class="text-lg font-semibold flex items-center gap-2">🧪 Splits &amp; Leakage</h2>
    <ul class="list-disc pl-6 text-gray-700 dark:text-gray-300 space-y-1 mt-1">
      <li>Hold out a final test set; tune on validation only.</li>
      <li>Time-series: never train on the future to predict the past.</li>
      <li>Fit preprocessing on train folds only; apply to val/test.</li>
    </ul>
  </div>

  <!-- Bias-Variance -->
  <div class="card rounded-2xl border bg-white p-4 shadow-sm dark:bg-gray-900 dark:border-gray-700"
       data-title="bias variance underfitting overfitting regularization early stopping">
    <h2 class="text-lg font-semibold flex items-center gap-2">⚖️ Bias–Variance</h2>
    <p class="text-gray-700 dark:text-gray-300 mt-1">
      <span class="font-medium">Underfitting</span>: too simple; low train/val scores.
      <br>
      <span class="font-medium">Overfitting</span>: too complex; high train but low val/test scores.
      Use regularization, CV, early stopping, and ensembling to balance.
    </p>
  </div>

  <!-- Metrics -->
  <div class="card rounded-2xl border bg-white p-4 shadow-sm dark:bg-gray-900 dark:border-gray-700"
       data-title="metrics accuracy f1 precision recall auc pr-auc calibration">
    <h2 class="text-lg font-semibold flex items-center gap-2">📏 Choosing Metrics</h2>
    <div class="grid grid-cols-1 sm:grid-cols-2 gap-2 mt-1">
      <div class="border rounded-lg p-3">
        <div class="font-medium mb-1">Classification</div>
        <ul class="list-disc pl-6 text-gray-700 dark:text-gray-300 space-y-1">
          <li>Accuracy (beware imbalance)</li>
          <li>Precision, Recall, F1</li>
          <li>ROC-AUC; PR-AUC for rare positives</li>
          <li>Calibration when probabilities matter</li>
        </ul>
      </div>
      <div class="border rounded-lg p-3">
        <div class="font-medium mb-1">Regression</div>
        <ul class="list-disc pl-6 text-gray-700 dark:text-gray-300 space-y-1">
          <li>MAE (robust), RMSE (penalizes large errors)</li>
          <li>R² (explained variance)</li>
        </ul>
      </div>
    </div>
  </div>

  <!-- Feature engineering -->
  <div class="card rounded-2xl border bg-white p-4 shadow-sm dark:bg-gray-900 dark:border-gray-700"
       data-title="feature engineering encoding scaling text time series interactions pca">
    <h2 class="text-lg font-semibold flex items-center gap-2">🧬 Feature Engineering (basics)</h2>
    <ul class="list-disc pl-6 text-gray-700 dark:text-gray-300 space-y-1 mt-1">
      <li>Categorical: one-hot or ordinal (trees)</li>
      <li>Numeric: scaling/normalization when needed</li>
      <li>Text: TF-IDF/embeddings; handle OOV</li>
      <li>Time: lags, rolling stats; keep order</li>
      <li>PCA for compression/denoising (viz with UMAP/t-SNE)</li>
    </ul>
  </div>

  <!-- Responsible AI -->
  <div class="card rounded-2xl border bg-white p-4 shadow-sm dark:bg-gray-900 dark:border-gray-700"
       data-title="responsible ai fairness privacy explainability human in the loop">
    <h2 class="text-lg font-semibold flex items-center gap-2">🧭 Responsible &amp; Ethical ML</h2>
    <ul class="list-disc pl-6 text-gray-700 dark:text-gray-300 space-y-1 mt-1">
      <li>Fairness across subgroups; report subgroup metrics</li>
      <li>Privacy/compliance; minimize PII</li>
      <li>Explainability for high-stakes decisions</li>
      <li>Human-in-the-loop where appropriate</li>
    </ul>
  </div>

  <!-- When not to use -->
  <div class="card rounded-2xl border bg-white p-4 shadow-sm dark:bg-gray-900 dark:border-gray-700"
       data-title="when not use ml simple rules no data objective mismatch">
    <h2 class="text-lg font-semibold flex items-center gap-2">⛔ When NOT to Use ML</h2>
    <ul class="list-disc pl-6 text-gray-700 dark:text-gray-300 space-y-1 mt-1">
      <li>No clear objective/metric or deployment mismatch</li>
      <li>Simple rules suffice and are safer/cheaper</li>
      <li>Insufficient data volume/quality to generalize</li>
    </ul>
  </div>

  <!-- Glossary -->
  <div class="card rounded-2xl border bg-white p-4 shadow-sm dark:bg-gray-900 dark:border-gray-700"
       data-title="glossary overfitting underfitting cross validation drift calibration">
    <h2 class="text-lg font-semibold flex items-center gap-2">🗂️ Quick Glossary</h2>
    <div class="grid grid-cols-1 sm:grid-cols-2 gap-2 mt-1">
      <div class="border rounded-lg p-3">
        <div><span class="font-medium">Overfitting</span> — fits noise; poor generalization</div>
        <div><span class="font-medium">Underfitting</span> — too simple; misses signal</div>
        <div><span class="font-medium">Regularization</span> — penalties to reduce variance</div>
      </div>
      <div class="border rounded-lg p-3">
        <div><span class="font-medium">Cross-Validation</span> — estimate OOS performance</div>
        <div><span class="font-medium">Drift</span> — data distribution changes over time</div>
        <div><span class="font-medium">Calibration</span> — align predicted probabilities</div>
      </div>
    </div>
  </div>
</div>

<!-- Page scripts -->
<script>
  // --- Dark mode toggle (persist, same as Home) ---
  (function () {
    const root = document.documentElement;
    const saved = localStorage.getItem('theme');
    const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
    if (saved ? saved === 'dark' : prefersDark) root.classList.add('dark');

    document.getElementById('themeToggle')?.addEventListener('click', () => {
      root.classList.toggle('dark');
      const isDark = root.classList.contains('dark');
      localStorage.setItem('theme', isDark ? 'dark' : 'light');
    });
  })();

  // --- Search filter + Cmd/Ctrl+K focus ---
  (function () {
    const input = document.getElementById('searchInput');
    const grid = document.getElementById('cardsGrid');
    const cards = Array.from(grid.querySelectorAll('.card'));

    function applyFilter() {
      const q = (input.value || '').trim().toLowerCase();
      cards.forEach(c => {
        const hay = (c.getAttribute('data-title') || '').toLowerCase();
        c.style.display = hay.includes(q) ? '' : 'none';
      });
    }

    input?.addEventListener('input', applyFilter);
    window.addEventListener('keydown', (e) => {
      if ((e.metaKey || e.ctrlKey) && e.key.toLowerCase() === 'k') {
        e.preventDefault(); input?.focus();
      }
    });
  })();

  // --- Subtle 3D hover tilt for cards ---
  (function () {
    const cards = document.querySelectorAll('.card');
    cards.forEach(card => {
      const r = 10; // deg
      card.addEventListener('mousemove', (e) => {
        const rect = card.getBoundingClientRect();
        const x = (e.clientX - rect.left) / rect.width;
        const y = (e.clientY - rect.top) / rect.height;
        const rx = (0.5 - y) * r;
        const ry = (x - 0.5) * r;
        card.style.transform = `perspective(800px) rotateX(${rx}deg) rotateY(${ry}deg) translateY(-2px)`;
      });
      ['mouseleave','blur'].forEach(evt =>
        card.addEventListener(evt, () => card.style.transform = 'translateY(-2px)'));
      card.classList.add('transition'); // smoothness
    });
  })();
</script>
{% endblock %}
